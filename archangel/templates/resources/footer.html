{% from "resources/macros.jinja" import getLanguage with context %}
{% autoescape false %}
<footer id="footer">
    
    <h2>{{info['name']}}</h2>
    
    <div id="footer-settings">
        <div class="footer_settings_block">
            <h3>Language</h3>
            <div id="footer-theme-settings">
                <!--
                    <div onclick="changeFooterLanguageTo('fr');" class="themeSwitcher" style="background-image: url('/rsc/img/icon/fr');"></div>
                    <div onclick="changeFooterLanguageTo('es');" class="themeSwitcher" style="background-image: url('/rsc/img/icon/es');"></div>
                -->
                <div onclick="changeFooterLanguageTo('jp');" class="themeSwitcher" style="background-image: url('/rsc/img/icon/jp');"></div>
                <div onclick="changeFooterLanguageTo('de');" class="themeSwitcher" style="background-image: url('/rsc/img/icon/de');"></div>
                <div onclick="changeFooterLanguageTo('en');" class="themeSwitcher" style="background-image: url('/rsc/img/icon/us');"></div>
            </div>
        </div>
        <div class="footer_settings_block">
            <h3>Theme</h3>
            <div id="footer-theme-settings">
                <div onclick="changeFooterThemeTo('light');" class="themeSwitcher" style="background-color: #ffe8df;"></div>
                <!--
                    <div onclick="changeFooterThemeTo('__');" class="themeSwitcher" style="background-color: #7c9a6a;"></div>
                    <div onclick="changeFooterThemeTo('__');" class="themeSwitcher" style="background-color: #37879e;"></div>
                    <div onclick="changeFooterThemeTo('__');" class="themeSwitcher" style="background-color: #a10b0b;"></div>
                    <div onclick="changeFooterThemeTo('dark_green');" class="themeSwitcher" style="background-color: #5ab437;"></div>
                -->
                <div onclick="changeFooterThemeTo('default');" class="themeSwitcher" style="background-color: #004070;"></div>
            </div>
        </div>
    </div>
    <br>
    
    {% if 'id' in session %}
    <script async defer>
        function changeFooterLanguageTo(language) {
            $.ajax({
                type: "POST",
                url: "/account/settings",
                data: {
                    value: language,
                    key: 'language'
                },
                success: function(data) {
                    window.location.reload();
                }
            })
        }        
        function changeFooterThemeTo(theme) {
            $.ajax({
                type: "POST",
                url: "/account/settings",
                data: {
                    value: theme,
                    key: 'theme'
                },
                success: function(data) {
                    window.location.reload();
                }
            })
        }
    </script>
    {% else %}
    <script async defer>
        function changeFooterLanguageTo(language) {
            $.ajax({
                type: 'POST',
                url: '/setlanguage/' + language,
                success: function(data) {
                    window.location.reload();
                }
            })
        }        
        function changeFooterThemeTo(theme) {
            $.ajax({
                type: 'POST',
                url: '/settheme/' + theme,
                success: function(data) {
                    window.location.reload();
                }
            })
        }
    </script>
    {% endif %}
    
    <div id="footer-links">
        <div class="footer_list">
            <h3>{{getLanguage('footer/archangel/{l}/series')}}</h3><br>
            <a href="/home">{{getLanguage('footer/archangel/{l}/start')}}</a><br><br>
            <a href="/index">{{getLanguage('footer/archangel/{l}/index')}}</a><br><br>
            <a href="/home#new-series">New</a>
        </div>
        <div class="footer_list">
            <h3>{{getLanguage('footer/archangel/{l}/explore')}}</h3><br>
            <a href="/search">{{getLanguage('footer/archangel/{l}/search')}}</a><br><br>
            <a href="/random">{{getLanguage('footer/archangel/{l}/random')}}</a><br><br>
            <a href="/{{getLanguage('links/direct/{l}/calendar')}}">{{getLanguage('footer/archangel/{l}/calendar')}}</a>
        </div>
        <div class="footer_list">
            <h3>{{getLanguage('footer/archangel/{l}/about')}}</h3><br>
            <a href="/{{getLanguage('links/direct/{l}/tos')}}">{{getLanguage('footer/archangel/{l}/tos')}}</a><br><br>
            <a href="/dmca">DMCA</a><br><br>
            <a href="/about">{{getLanguage('footer/archangel/{l}/about')}}</a>
        </div>
        <div class="footer_list">
            <h3>{{getLanguage('footer/archangel/{l}/more')}}</h3><br>
            <a href="/{{getLanguage('links/direct/{l}/requests')}}">{{getLanguage('footer/archangel/{l}/reqs')}}</a><br><br>
            <a href="/register">{{getLanguage('footer/archangel/{l}/register')}}</a>
            {% if info['api'] == True %}
            <br><br>
            <a href="/api/">{{getLanguage('footer/archangel/{l}/api')}}</a>
            {% endif %}
        </div>
    </div>
    
    <br><br>
    <p>{{info['aditional_footer_info']}}</p>
    
    <br>
    <h3><a href="https://github.com/slayernominee/archangel" style="text-decoration: none;">{{getLanguage('footer/archangel/{l}/build')}}</a></h3>
    <p>
        {{getLanguage('footer/archangel/{l}/support')}}
    </p>
    
</footer>
{% endautoescape %}

<link rel="stylesheet" href="/rsc/css/footer">

</html>